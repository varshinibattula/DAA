#include<stdio.h>
#include<math.h>
void movedisk(int disk, int from , int to)
{
	printf("Move disk %d from tower %d to tower %d\n", disk,from,to);
}

int disktomove(int movenumber)
{
	int disk = 0;
	while((movenumber & 1)==0){
		movenumber >>= 1;
		disk++;
	}
	return disk+1;
}
 
int main()
{
	int n;
	printf("enter number of disks: ");
	scanf("%d",&n);
	int totalmoves= pow(2,n)-1;
	int src = 1,  aux = 2, dest = 3;
	if(n%2==0)
	{
		int temp = dest;
		dest = aux;
		aux = temp;
	}
	for(int i = 1; i<= totalmoves; i++)
	{
		int disk = disktomove(i);
		if(i%3==1)
		{
			movedisk(disk,src,dest);
		}
		else if(i%3==2)
		{
			movedisk(disk,src,aux);
		}
		else
		{
			movedisk(disk,aux,dest);
		}
	}
	return 0;
}
